# Reference
<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

**Classes**

* [`isoc`](#isoc): Main class to include other classes
* [`isoc::grafana`](#isocgrafana): A short summary of the purpose of this class
* [`isoc::postgresql`](#isocpostgresql): Class for include postgresql resources
* [`isoc::sysctl::low_latency`](#isocsysctllow_latency): Class for fine tuning tcp stack in local network
* [`isoc::tgsend`](#isoctgsend): Class for create python script for send notifications to telegram channels.

## Classes

### isoc

This base class for include other profiles, classes and create resources

or use hiera to include this module to tou envinronment
  classes:
    - isoc

  isoc::use_telegraf: true

#### Examples

##### Main usage

```puppet
include isoc
```

##### Configure influxdb udp listener

```puppet
influxdb::udp_config:
  default:
    enabled: true
    bind-address: ':8089'
    database: 'metrics'
    retention-policy: ''
    batch-size: 5000
    batch-pending: 10
    batch-timeout: '1s'
    read-buffer: 0
```

##### Add output to telegraf in hiera

```puppet
telegraf::outputs:
  socket_writer:
    address: "udp4://localhost:8089"
    data_format: "influx"
```

#### Parameters

The following parameters are available in the `isoc` class.

##### `use_influxdb`

Data type: `Boolean`

Include influxdb to install time-series database
If you want to configure influxdb, you may include to hiera

Default value: `false`

##### `use_telegraf`

Data type: `Boolean`

Include telegraf to send metrics to you monitoring system
If you want to add or change output for telegraf, you may include to hiera

Default value: `false`

##### `use_airflow`

Data type: `Boolean`

Include airflow to manage company's workflow orchestration.
If you want to set some parameters for airflow, you may include them to hiera

Default value: `false`

### isoc::grafana

A description of what this class does

#### Examples

##### 

```puppet
include isoc::grafana
```

#### Parameters

The following parameters are available in the `isoc::grafana` class.

##### `image_renderer`

Data type: `Any`



Default value: `true`

##### `image_renderer_packages`

Data type: `Any`



Default value: [ "libXcomposite", "libXdamage", "libXtst", "cups", "libXScrnSaver", "pango", "atk", "adwaita-cursor-theme", "adwaita-icon-theme", "at", "at-spi2-atk", "at-spi2-core", "cairo-gobject", "colord-libs", "dconf", "desktop-file-utils", "ed", "emacs-filesystem", "gdk-pixbuf2", "glib-networking", "gnutls", "gsettings-desktop-schemas", "gtk-update-icon-cache", "gtk3", "hicolor-icon-theme", "jasper-libs", "json-glib", "libappindicator-gtk3", "libdbusmenu", "libdbusmenu-gtk3", "libepoxy", "liberation-fonts", "liberation-narrow-fonts", "liberation-sans-fonts", "liberation-serif-fonts", "libgusb", "libindicator-gtk3", "libmodman", "libproxy", "libsoup", "libwayland-cursor", "libwayland-egl", "libxkbcommon", "m4", "mailx", "nettle", "patch", "psmisc", "redhat-lsb-core", "redhat-lsb-submod-security", "rest", "spax", "time", "trousers", "xdg-utils", "xkeyboard-config" ]

### isoc::postgresql

This class create defined types from module postgresql, all values are hashes

#### Examples

##### Basic usage

```puppet
include isoc::postgresql
```

#### Parameters

The following parameters are available in the `isoc::postgresql` class.

##### `server_config_entrys`

Data type: `Hash`

Create resources `postgresql::server::config_entry`

Default value: `undef`

##### `server_dbs`

Data type: `Hash`

Create resources `postgresql::server::db`

Default value: `undef`

##### `server_databases`

Data type: `Hash`

Create resources `postgresql::server::database`

Default value: `undef`

##### `server_database_grants`

Data type: `Hash`

Create resources `postgresql::server::database_grant`

Default value: `undef`

##### `server_extensions`

Data type: `Hash`

Create resources `postgresql::server::extension`

Default value: `undef`

##### `server_grants`

Data type: `Hash`

Create resources `postgresql::server::grant`

Default value: `undef`

##### `server_grant_roles`

Data type: `Hash`

Create resources `postgresql::server::grant_role`

Default value: `undef`

##### `server_pg_hba_rules`

Data type: `Hash`

Create resources `postgresql::server::pg_hba_rule`

Default value: `undef`

##### `server_pg_ident_rules`

Data type: `Hash`

Create resources `postgresql::server::pg_ident_rule`

Default value: `undef`

##### `server_recoverys`

Data type: `Hash`

Create resources `postgresql::server::recovery`

Default value: `undef`

##### `server_roles`

Data type: `Hash`

Create resources `postgresql::server::role`

Default value: `undef`

##### `server_schemas`

Data type: `Hash`

Create resources `postgresql::server::schema`

Default value: `undef`

##### `server_table_grants`

Data type: `Hash`

Create resources `postgresql::server::table_grants`

Default value: `undef`

##### `server_tablespaces`

Data type: `Hash`

Create resources `postgresql::server::tablespace`

Default value: `undef`

##### `validate_db_connections`

Data type: `Hash`

Create resources `postgresql::validate_db_connection`

Default value: `undef`

### isoc::sysctl::low_latency

This class tune tcp stack using `sysctl`

#### Examples

##### Basic usage

```puppet
include isoc::sysctl::lowlatency
```

#### Parameters

The following parameters are available in the `isoc::sysctl::low_latency` class.

##### `net_ipv4_tcp_orphan_retries`

Data type: `Optional[Integer]`

Set parameter kernel `net.ipv4.tcp_orphan_retries`, if you set value as `undef`, puppet will not touch this parameter.

Default value: 0

##### `net_ipv4_tcp_syncookies`

Data type: `Optional[Integer]`

Set parameter kernel `net.ipv4.tcp_syncookies`, if you set value as `undef`, puppet will not touch this parameter.

Default value: 0

##### `net_ipv4_tcp_timestamps`

Data type: `Optional[Integer]`

Set parameter kernel `net.ipv4.tcp_timestamps`, if you set value as `undef`, puppet will not touch this parameter.

Default value: 0

##### `net_ipv4_tcp_no_metrics_save`

Data type: `Optional[Integer]`

Set parameter kernel `net.ipv4.tcp_no_metrics_save`, if you set value as `undef`, puppet will not touch this parameter.

Default value: 1

##### `net_ipv4_tcp_rfc1337`

Data type: `Optional[Integer]`

Set parameter kernel `net.ipv4.tcp_rfc1337`, if you set value as `undef`, puppet will not touch this parameter.

Default value: 1

##### `net_ipv4_tcp_low_latency`

Data type: `Optional[Integer]`

Set parameter kernel `net.ipv4.tcp_low_latency`, if you set value as `undef`, puppet will not touch this parameter.

Default value: 1

##### `net_ipv4_tcp_sack`

Data type: `Optional[Integer]`

Set parameter kernel `net.ipv4.tcp_sack`, if you set value as `undef`, puppet will not touch this parameter.

Default value: 1

##### `net_ipv4_tcp_tw_reuse`

Data type: `Optional[Integer]`

Set parameter kernel `net.ipv4.tcp_tw_reuse`, if you set value as `undef`, puppet will not touch this parameter.

Default value: 1

##### `tcp_buff`

Data type: `Optional[String]`

Set three parameter kernel `net.ipv4.tcp_mem`, `net.ipv4.tcp_rmem`, `net.ipv4.tcp_wmem`, if you set value as `undef`, puppet will not touch this parameters.

Default value: '4096  8388608  16777216'

##### `net_ipv4_tcp_congestion_control`

Data type: `Optional[String]`

Set three parameter kernel `net.ipv4.tcp_congestion_control`, if you set value as `undef`, puppet will not touch this parameter.

Default value: 'htcp'

##### `net_ipv4_tcp_max_syn_backlog`

Data type: `Optional[Integer]`

Set three parameter kernel `net.ipv4.tcp_max_syn_backlog`, if you set value as `undef`, puppet will not touch this parameter.

Default value: 2048

##### `net_ipv4_udp_mem`

Data type: `Optional[String]`

Set three parameter kernel `net.ipv4.udp_mem`, if you set value as `undef`, puppet will not touch this parameter.

Default value: '1024000  8738000  167772160'

##### `net_ipv4_udp_rmem_min`

Data type: `Optional[Integer]`

Set three parameter kernel `net.ipv4.udp_rmem_min`, if you set value as `undef`, puppet will not touch this parameter.

Default value: 32768

##### `net_ipv4_udp_wmem_min`

Data type: `Optional[Integer]`

Set three parameter kernel `net.ipv4.udp_wmem_min`, if you set value as `undef`, puppet will not touch this parameter.

Default value: 32768

##### `net_core_rmem_default`

Data type: `Optional[Integer]`

Set three parameter kernel `net.core.rmem_default`, if you set value as `undef`, puppet will not touch this parameter.

Default value: 268435456

##### `net_core_wmem_default`

Data type: `Optional[Integer]`

Set three parameter kernel `net.core.wmem_default`, if you set value as `undef`, puppet will not touch this parameter.

Default value: 268435456

##### `net_core_rmem_max`

Data type: `Optional[Integer]`

Set three parameter kernel `net.core.rmem_max`, if you set value as `undef`, puppet will not touch this parameter.

Default value: 536870912

##### `net_core_wmem_max`

Data type: `Optional[Integer]`

Set three parameter kernel `net.core.wmem_max`, if you set value as `undef`, puppet will not touch this parameter.

Default value: 536870912

##### `net_core_somaxconn`

Data type: `Optional[Integer]`

Set three parameter kernel `net.core.somaxconn`, if you set value as `undef`, puppet will not touch this parameter.

Default value: 32768

##### `net_core_netdev_max_backlog`

Data type: `Optional[Integer]`

Set three parameter kernel `net.core.netdev_max_backlog`, if you set value as `undef`, puppet will not touch this parameter.

Default value: 32000

##### `net_ipv4_tcp_fin_timeout`

Data type: `Optional[Integer]`

Set three parameter kernel `net.ipv4.tcp_fin_timeout`, if you set value as `undef`, puppet will not touch this parameter.

Default value: 25

### isoc::tgsend

This class create script for send notifications to telegram channels

#### Examples

##### Main usage

```puppet
include isoc::tgsend
```

##### Include as parametrized class

```puppet
class {isoc::tgsend:
  ensure => present,
  bot_id => 'mybotid',
  chat_id => <my-chat-id>,
}
```

#### Parameters

The following parameters are available in the `isoc::tgsend` class.

##### `ensure`

Data type: `Enum['present', 'absent']`

Create or delete file tg-send

Default value: 'absent'

##### `bot_id`

Data type: `String`

ID bot in telegram

Default value: ''

##### `chat_id`

Data type: `Integer`

Chat ID in telegram for send notifications

Default value: `undef`

##### `critical_chat_id`

Data type: `Optional[Integer]`

Chat ID for critical notifications

Default value: `undef`

##### `proxy`

Data type: `Optional[String]`

URL proxy for connect to telegram servers

Default value: `undef`

